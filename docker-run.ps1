# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ ProITech –≤ Docker
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω

Write-Host "üê≥ –ó–∞–ø—É—Å–∫ ProITech –≤ Docker..." -ForegroundColor Green

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Docker
try {
    $dockerVersion = docker --version
    Write-Host "‚úÖ Docker –Ω–∞–π–¥–µ–Ω: $dockerVersion" -ForegroundColor Green
} catch {
    Write-Host "‚ùå Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop" -ForegroundColor Red
    exit 1
}

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ Docker
try {
    docker ps > $null 2>&1
    Write-Host "‚úÖ Docker –∑–∞–ø—É—â–µ–Ω" -ForegroundColor Green
} catch {
    Write-Host "‚ùå Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop" -ForegroundColor Red
    exit 1
}

Write-Host "üî® –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞..." -ForegroundColor Yellow
docker-compose build

Write-Host "üöÄ –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞..." -ForegroundColor Yellow
docker-compose up -d

Write-Host "‚úÖ ProITech –∑–∞–ø—É—â–µ–Ω –≤ Docker!" -ForegroundColor Green
Write-Host "üåê –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ" -ForegroundColor Cyan
Write-Host ""
Write-Host "üìã –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:" -ForegroundColor Yellow
Write-Host "‚Ä¢ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: docker-compose down" -ForegroundColor White
Write-Host "‚Ä¢ –õ–æ–≥–∏: docker-compose logs -f" -ForegroundColor White
Write-Host "‚Ä¢ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: docker-compose restart" -ForegroundColor White
Write-Host "‚Ä¢ –°—Ç–∞—Ç—É—Å: docker-compose ps" -ForegroundColor White

